"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[18],{303:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var c=s(3396),a=s(7139),l=s(9242);const d=(0,c._)("h2",null,"Jobs",-1),h={class:"badge rounded-pill text-bg-primary"},o=["onUpdate:modelValue","onInput"];function i(e,t,s,i,u,k){const n=(0,c.up)("bs-tab"),b=(0,c.up)("router-link"),r=(0,c.up)("bs-table");return(0,c.wg)(),(0,c.iD)("div",null,[d,(0,c.Wm)(n,{tabs:Object.keys(u.statuses).map((e=>({key:e,text:u.statuses[e]}))),modelValue:u.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>u.tab=e)},{["item"]:(0,c.w5)((({item:e})=>[(0,c.Uk)((0,a.zw)(e.text)+" ",1),(0,c._)("span",h,(0,a.zw)(e.key===u.tab?u.jobs.length:0),1)])),_:2},1032,["tabs","modelValue"]),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(Object.keys(u.statuses),(e=>((0,c.wg)(),(0,c.iD)("div",{key:e,style:(0,a.j5)({display:e===u.tab?"block":"none"})},[(0,c.Wm)(r,{headers:[{key:"bulk",text:""},{key:"id",text:"ID"},{key:"type",text:"Type"},{key:"created_at",text:"Created At"}],items:u.jobs},{["header.bulk"]:(0,c.w5)((()=>[(0,c.wy)((0,c._)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":t[1]||(t[1]=e=>u.checkAll=e),onInput:t[2]||(t[2]=e=>k.toggleCheckAll(e.target.checked))},null,544),[[l.e8,u.checkAll]])])),["item.bulk"]:(0,c.w5)((({item:e})=>[(0,c.wy)((0,c._)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":t=>u.checked[e.id]=t,onInput:t=>k.toggleChecked(e.id,t.target.checked)},null,40,o),[[l.e8,u.checked[e.id]]])])),["item.id"]:(0,c.w5)((({item:e})=>[(0,c.Wm)(b,{to:{name:"jobs"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,a.zw)(e.id),1)])),_:2},1024)])),_:2},1032,["items"])],4)))),128))])}var u=s(9082),k=s(8332),n=s(1179),b={name:"Jobs",data(){return{statuses:{SCHEDULED:"Scheduled",ENQUEUED:"Enqueued",PROCESSING:"Processing",SUCCESS:"Succeeded",FAILED:"Failed"},tab:"SCHEDULED",jobs:[],checkAll:!1,checked:{}}},created(){this.fetchJobs()},watch:{tab(){this.fetchJobs()}},methods:{fetchJobs(){k.Z.get("/jobs",{params:{status:this.tab}}).then((e=>{this.checkAll=!1,this.checked={},this.jobs=e.data.data}))},toggleChecked(e,t){this.checked[e]=t,this.checkAll=this.jobs.reduce(((e,t)=>e&&this.checked[t.id]),!0)},toggleCheckAll(e){e?(this.checkAll=!0,this.jobs.forEach((e=>this.checked[e.id]=!0))):(this.checkAll=!1,this.checked={})}},components:{BsTab:n.Z,BsTable:u.Z}},r=s(89);const m=(0,r.Z)(b,[["render",i]]);var p=m}}]);
//# sourceMappingURL=jobs.95e47c1e.js.map