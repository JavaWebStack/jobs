{"version":3,"file":"js/jobs.95e47c1e.js","mappings":"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","sources":["webpack://dashboard/./src/views/jobs/Jobs.vue","webpack://dashboard/./src/views/jobs/Jobs.vue?ffc9"],"sourcesContent":["<template>\n  <div>\n    <h2>Jobs</h2>\n    <bs-tab :tabs=\"Object.keys(statuses).map(k => ({ key: k, text: statuses[k] }))\" v-model=\"tab\">\n      <template v-slot:[`item`]=\"{ item }\">\n        {{ item.text }} <span class=\"badge rounded-pill text-bg-primary\">{{ item.key === tab ? jobs.length : 0 }}</span>\n      </template>\n    </bs-tab>\n    <div v-for=\"status in Object.keys(statuses)\" :key=\"status\" :style=\"{ display: status === tab ? 'block' : 'none' }\">\n      <bs-table :headers=\"[\n        { key: 'bulk', text: '' },\n        { key: 'id', text: 'ID' },\n        { key: 'type', text: 'Type' },\n        { key: 'created_at', text: 'Created At' }\n    ]\" :items=\"jobs\">\n        <template v-slot:[`header.bulk`]>\n          <input type=\"checkbox\" class=\"form-check\" v-model=\"checkAll\" @input=\"e => toggleCheckAll(e.target.checked)\">\n        </template>\n        <template v-slot:[`item.bulk`]=\"{ item }\">\n          <input type=\"checkbox\" class=\"form-check\" v-model=\"checked[item.id]\" @input=\"e => toggleChecked(item.id, e.target.checked)\">\n        </template>\n        <template v-slot:[`item.id`]=\"{ item }\">\n          <router-link :to=\"{ name: 'jobs' }\">{{ item.id }}</router-link>\n        </template>\n      </bs-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BsTable from \"@/components/BSTable\";\nimport api from \"@/api\";\nimport BsTab from \"@/components/BSTab\";\n\nexport default {\n  name: \"Jobs\",\n  data() {\n    return {\n      statuses: {\n        'SCHEDULED': 'Scheduled',\n        'ENQUEUED': 'Enqueued',\n        'PROCESSING': 'Processing',\n        'SUCCESS': 'Succeeded',\n        'FAILED': 'Failed'\n      },\n      tab: 'SCHEDULED',\n      jobs: [],\n      checkAll: false,\n      checked: {}\n    }\n  },\n  created() {\n    this.fetchJobs()\n  },\n  watch: {\n    tab() {\n      this.fetchJobs()\n    }\n  },\n  methods: {\n    fetchJobs() {\n      api.get('/jobs', { params: { status: this.tab } }).then(res => {\n        this.checkAll = false\n        this.checked = {}\n        this.jobs = res.data.data\n      })\n    },\n    toggleChecked(id, value) {\n      this.checked[id] = value\n      this.checkAll = this.jobs.reduce((c, v) => c && this.checked[v.id], true)\n    },\n    toggleCheckAll(value) {\n      if(value) {\n        this.checkAll = true\n        this.jobs.forEach(j => this.checked[j.id] = true)\n      } else {\n        this.checkAll = false\n        this.checked = {}\n      }\n    }\n  },\n  components: {BsTab, BsTable}\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Jobs.vue?vue&type=template&id=b31b49f0\"\nimport script from \"./Jobs.vue?vue&type=script&lang=js\"\nexport * from \"./Jobs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/user/dev/java/jobs/dashboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_createVNode","_component_bs_tab","tabs","Object","keys","$data","map","k","key","text","$event","_withCtx","item","_toDisplayString","length","_Fragment","_renderList","status","style","display","_component_bs_table","headers","items","type","onInput","e","$options","target","checked","id","_component_router_link","to","name","data","statuses","tab","jobs","checkAll","created","this","fetchJobs","watch","methods","api","params","then","res","toggleChecked","value","reduce","c","v","toggleCheckAll","forEach","j","components","BsTab","BsTable","__exports__","render"],"sourceRoot":""}